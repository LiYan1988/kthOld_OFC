function figure1 = createfigure_optimality_gap(ymatrix1, title1, xlabel1, ylabel1, ylim1, num_ticks, legendLocation)
%CREATEFIGURE(YMATRIX1)
%  YMATRIX1:  bar matrix data

%  Auto-generated by MATLAB on 14-Aug-2016 15:48:42

% Create figure
figure1 = figure;

% Create axes
axes1 = axes('Parent',figure1);
hold(axes1,'on');

% Create multiple lines using matrix input to bar
bar1 = bar(ymatrix1);
set(bar1(1),'DisplayName','Connections');
set(bar1(2),'DisplayName','Throughput');

% Create xlabel
xlabel(xlabel1);

% Create ylabel
ylabel(ylabel1);

% Create title
title(title1);

box(axes1,'on');
% Set the remaining axes properties
set(axes1,'XGrid','on','XTick',[1 2 3],'XTickLabel',{'100','150','200'},...
    'YGrid','on');
set(gca,'YTick',linspace(ylim1(1),ylim1(2),num_ticks))
ylim(axes1, ylim1)
a=[cellstr(num2str(get(gca,'ytick')'*100))];
pct = char(ones(size(a,1),1)*'%');
new_yticks = [char(a),pct];
set(gca,'yticklabel',new_yticks) 

% Create legend
if nargin<7
    legendLocation = 'northeast';
end
legend(axes1,'show', 'location', legendLocation);

