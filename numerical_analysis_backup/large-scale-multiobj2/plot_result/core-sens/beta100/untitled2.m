clc;
close all;
clear;

%% Plot G0
load arch4Guard0beta100.mat
load arch2Guard0beta100.mat
corev = [1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];

figure2 = figure('unit', 'normalized', 'position', [0.6, 0.6, 0.4, 0.3]);
axes2 = axes('Parent', figure2);
box(axes2, 'on')
hold(axes2, 'on')
grid(axes2, 'on')

h(1) = plot(corev,thpUbA2G0, '--', 'marker', '^', ...
    'displayname', 'A2 G0 UB Th', 'linewidth', 2, ...
    'color', [.85, .33, .1]);
h(2) = plot(corev,thpHeA2G0, 'marker', '^', ...
    'displayname', 'A2 G0 Heu Th', 'linewidth', 2, ...
    'color', [.85, .33, .1]);
h(3) = plot(corev,thpUbA2G0, '--', 'marker', '^', ...
    'displayname', 'A3 G0 UB Th', 'linewidth', 2, ...
    'color', [0, 0.45, 0.74]);
h(4) = plot(corev,thpHeA4G0, 'marker', '^', ...
    'displayname', 'A3 G0 Heu Th', 'linewidth', 2, ...
    'color', [0, 0.45, 0.74]);

h(5) = plot(corev, thpUbA2G0, '--', 'marker', '^', ...
    'displayname', 'A4 G0 UB Th', 'linewidth', 1.5, ...
    'color', [.93, .69, .13]);

%% G1
load arch4Guard1beta100.mat
load arch2Guard1beta100.mat
corev = [1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];
core2 = [2, 4, 6, 8, 10, 12, 14, 16];


h(6) = plot(corev,thpUbA2G1, '--', 'marker', 'o', ...
    'displayname', 'A2 G1 UB Th', 'linewidth', 2, ...
    'color', [.85, .33, .1]);
h(7) = plot(corev,thpHeA2G1, 'marker', 'o', ...
    'displayname', 'A2 G1 Heu Th', 'linewidth', 2, ...
    'color', [.85, .33, .1]);

h(8) = plot(corev,thpUbA4G1, '--', 'marker', 'o', ...
    'displayname', 'A3 G1 UB Th', 'linewidth', 2, ...
    'color', [0, 0.45, 0.74]);
h(9) = plot(corev,thpHeA4G1, 'marker', 'o', ...
    'displayname', 'A3 G1 Heu Th', 'linewidth', 2, ...
    'color', [0, 0.45, 0.74]);

h(10) = plot(corev, thpUbA2G1, '--', 'marker', 'o', ...
    'displayname', 'A4 G1 UB Th', 'linewidth', 1.5, ...
    'color', [.93, .69, .13]);

%% G2
load arch4Guard2beta100.mat
load arch2Guard2beta100.mat
corev = [1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20];
core2 = [2, 4, 6, 8, 10, 12, 14, 16];

h(11) = plot(corev,thpUbA2G2, '--', 'marker', 's', ...
    'displayname', 'A2 G2 UB Th', 'linewidth', 2, ...
    'color', [.85, .33, .1]);
h(12) = plot(corev,thpHeA2G2, 'marker', 's', ...
    'displayname', 'A2 G2 Heu Th', 'linewidth', 2, ...
    'color', [.85, .33, .1]);

h(13) = plot(corev,thpUbA4G2, '--', 'marker', 's', ...
    'displayname', 'A3 G2 UB Th', 'linewidth', 2, ...
    'color', [0, 0.45, 0.74]);
h(14) = plot(corev,thpHeA4G2, 'marker', 's', ...
    'displayname', 'A3 G2 Heu Th', 'linewidth', 2, ...
    'color', [0, 0.45, 0.74]);

h(15) = plot(corev,thpUbA2G2, '--', 'marker', 's', ...
    'displayname', 'A5 G2 UB Th', 'linewidth', 1.5, ...
    'color', [.93, .69, .13]);


legend(h(1:end), 'location', 'eastoutside')
xlabel('Number of cores')
ylabel('Throughput blocking')
xlim([1, 20])
ytick = get(axes2, 'ytick');
set(axes2, 'ytick', ytick(1:2:end));
set(axes2, 'yticklabel', {'0','20%','40%','60%','80%','100%'});
saveas(figure2, 'cnk.jpg')